// @harness parser_roundtrip
// @harness typecheck_validation_succeeds
// @harness value_initialization_validation_succeeds
// @harness cfg_integrity_validation_succeeds
// @harness ssa_validation_fails
(mir
    (func make_list
        (return_type (bufref int))
        (entry block0)
        (block block0
            (param el0 int)
            (param el1 int)
            (bufref.init l (int))
            (bufref.push l (l el0))
            (bufref.push l (l el1))
            (return (l))))
    (func sum_list
        (return_type int)
        (entry block0)
        (block block0
            (param l (bufref int))
            (constant i (0))
            (constant sum (0))
            (bufref.len len (l))
            (jump (loop ())))
        (block loop
            (int.cmp done (>= i len))
            (branch (done
                (true exit ())
                (false loop_body ()))))
        (block loop_body
            (bufref.get x (l i))
            (int.add sum (sum x))
            (constant one (1))
            (int.add i (i one))
            (jump (loop ())))
        (block exit
            (constant zero (0))
            (bufref.trunc l (l zero))
            (return (sum)))))